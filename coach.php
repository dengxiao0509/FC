
<style type="text/css">
#coach {
}
.coachpopup {
	display: none;
	overflow: auto;
	border: 1px solid grey;
	background: lightgrey;
	z-index: 100;
	position: absolute;
	left: 80px;
	top: 170px;
	height: 550px;
	width: 1000px;
	font-family: Verdana,Arial,Sans-serif;
	font-size: 14px;
	padding: 10px;
	-moz-border-radius:10px;
	-webkit-border-radius:10px;
	border-radius:10px;
	-moz-box-shadow:3px 3px 6px 0 #A9A9A9;
	-webkit-box-shadow:3px 3px 6px #A9A9A9;
	box-shadow:3px 3px 6px 0 #A9A9A9;
}
#headcoach {
	height: 80px;
}
#titlecoach {
	width: 400px;
	margin-left: 150px;
	float: left;
	text-align: center;
}
#showinfocoachaccount {
	display: none;
	margin-left: 150px;
	float: left;
	margin-top: 10px;
	text-align: right;
}
#showinfocoachaccount img {
	margin: 0px;
}
#newcasecoach {
	margin-left: 15px;
	float: left;
	margin-top: 10px;
	text-align: right;
}
#newcasecoach img {
	margin: 0px;
}
#newCase {
	font-size: 14px;
	display: none;
	border:1px solid #C0C0C0;
	background: white;
	color: black;
	padding: 10px;
	margin: 10px;
	font-family: Verdana,Arial,Sans-serif;
	text-align: center;
	/*css3*/
	-moz-border-radius:10px;
	-webkit-border-radius:10px;
	border-radius:10px;
	-moz-box-shadow:3px 3px 6px 0 #A9A9A9;
	-webkit-box-shadow:3px 3px 6px #A9A9A9;
	box-shadow:3px 3px 6px 0 #A9A9A9;
}
#newEvent {
	font-size: 14px;
	display: none;
	background: white;
	border:1px solid #C0C0C0;
	color: black;
	padding: 10px;
	margin: 10px;
	font-family: Verdana,Arial,Sans-serif;
	text-align: center;
	/*css3*/
	-moz-border-radius:10px;
	-webkit-border-radius:10px;
	border-radius:10px;
	-moz-box-shadow:3px 3px 6px 0 #A9A9A9;
	-webkit-box-shadow:3px 3px 6px #A9A9A9;
	box-shadow:3px 3px 6px 0 #A9A9A9;
}
.coachcase {
	border:1px solid #C0C0C0;
	color: black;
	padding: 10px;
	margin: 10px;
	font-family: Verdana,Arial,Sans-serif;
	text-align: center;
	background: wheat;
	/*css3*/
	-moz-border-radius:10px;
	-webkit-border-radius:10px;
	border-radius:10px;
	-moz-box-shadow:3px 3px 6px 0 #A9A9A9;
	-webkit-box-shadow:3px 3px 6px #A9A9A9;
	box-shadow:3px 3px 6px 0 #A9A9A9;
}
.ccclos {
	background: grey;
	color: white;
}
.ccgauche {
	float: left;
	width: 150px;
}
.cccentre {
	float: left;
	max-width: 650px;
	text-align: left;
}
.ccdroite {
	float: right;
	max-width: 200px;
	text-align: right;
}
.ccdate {
	position: relative;
	text-align: left;
	font-size: 12px;
	margin-right: 50px;
}
.clear {
	clear: both;
}
.ccaccount {
	position: relative;
	font-size: 20px;
}
.ccstatus {
	position: relative;
	text-align: left;
	font-size: 16px;
	border: 1px grey;
	padding: 5px;
}
.ccstatusrejete {
	background: black;
}
.cccoach {
	position: relative;
	text-align: left;
	font-size: 12px;
}
.cccoachvide {
	background: red;
	color: white;
	position: relative;
	text-align: left;
	font-size: 12px;
	padding: 1px 0px 1px 5px;
}
.cctype {
	position: relative;
	font-style: italic;
	font-size: 14px;
}
.cctypenom {
	float: left;
	position: relative;
	font-style: italic;
	font-size: 15px;
}
.cctypepacknom {
	float: left;
	margin: 0 15px;
	position: relative;
	font-style: italic;
	font-size: 15px;
}
.cctypepackamount {
	border:1px solid #C0C0C0;
	float: left;
	position: relative;
	background: green;
	color: white;
	padding: 2px;
	top: -2px;
	margin: 0 5px;
	font-size: 14px;
	text-align: center;
	width: 90px;
}
.cctypepackid {
	float: left;
	margin: 0 15px;
	position: relative;
	font-style: italic;
	font-size: 14px;
}
.cctypepacktime {
	border:1px solid #C0C0C0;
	padding: 2px 5px;
	float: left;
	top: -2px;
	background: white;
	color: black;
	position: relative;
	font-size: 14px;
}
.ccdetails {
	clear: both;
	margin-top: 5px;
}
.ccoffer {
	float: left;
	font-size: 20px;
	margin-right: 20px;
}
.ccplusevent {
	float: left;
}
.cclinkdetails {
	clear: both;
	margin-top: 15px;
	color: black;
}
.coachevent {
	border:1px solid #C0C0C0;
	color: black;
	padding: 10px;
	margin: 10px;
	font-family: Verdana,Arial,Sans-serif;
	text-align: center;
	width: 80%;
	/*css3*/
	-moz-border-radius:10px;
	-webkit-border-radius:10px;
	border-radius:10px;
	-moz-box-shadow:3px 3px 6px 0 #A9A9A9;
	-webkit-box-shadow:3px 3px 6px #A9A9A9;
	box-shadow:3px 3px 6px 0 #A9A9A9;
}
.ccclient {
	background: lightgreen;
	position: relative;
	left: 50px;
	width: 700px;
}
.cccloudcoach {
	background: #FF7300;
	color: white;
	position: relative;
	left: 150px;
	width: 700px;
}
.cccommercial {
	background: orange;
	color: black;
	position: relative;
	left: 150px;
	width: 700px;
}
.ccinterne {
	background: orange;
	color: black;
	position: relative;
	left: 150px;
	width: 700px;
}
.cegauche {
	float: left;
}
.cedroite {
	float: right;
	max-width: 500px;
}
.cedate {
	position: relative;
	text-align: left;
	font-size: 12px;
}
.ceorig {
	position: relative;
	text-align: left;
	font-size: 12px;
}
.cetype {
	position: relative;
	font-style: italic;
	font-size: 12px;
	float: left;
	left: 10px;
}
.cedetails {
	text-align: right;
	position: relative;
	max-width: 550px;
	font-size: 11px;
}
.celogstatus {
	text-align: right;
	font-style: italic;
	font-size: 10px;
	margin-top: 10px;
}
.cerecby {
	text-align: right;
	font-style: italic;
	font-size: 10px;
}
textarea {
   height: 80px;
   width: 600px;
   max-height: 160px;
   max-width: 1000px;
}
div.newcctype {
	float: left;
	text-align: center;
	margin: 5px 10px;
}
div.newccprestation {
	float: left;
	text-align: center;
	margin: 5px 10px;
}
.ui-button-text {
	width:85px;
}
.ui-button-text.casepackfc {
	width:100px;
}
.ui-state-active {
	background: #FF7300;
	color: white;
}
input[type='text'] {
	width: 600px;
	height: 20px;
	font-size: 1.2em;
}
input[type='text'].coachdate {
	width: 80px;
	height: 20px;
	font-size: 1.2em;
}
#formEvent > table tr td +td {
	text-align: left;
}
.coachformbutton.ui-button {
	margin: 20px;
	background: black;
	color: white;
}
.coachformbutton.ui-state-hover {
	margin: 20px;
	background: white;
	color: black;
}
.cecache {
	display:none;
}
#origname {
	vertical-align: middle;
	text-align: center;
}
.ui-autocomplete {
	font-size: 12px;
}
#buttonCaseType .ui-button-text {
	width: 75px;
}
#buttonPackFC .ui-button-text {
	width: 110px;
}
#buttonPackFS .ui-button-text {
	width: 110px;
}
#buttonPackFCA .ui-button-text {
	width: 110px;
}
#infoAccount {
      width: 800px;
      height: 500px;
	font-size: 12px;
	display: none;
	position: relative;
	left: 50px;
	border: 1px solid #C0C0C0;
	background: white;
	color: black;
 	background: lightgrey;
	font-family: Verdana,Arial,Sans-serif;
	text-align: center;
	/*css3*/
	-moz-border-radius:10px;
	-webkit-border-radius:10px;
	border-radius:10px;
	-moz-box-shadow:3px 3px 6px 0 #A9A9A9;
	-webkit-box-shadow:3px 3px 6px #A9A9A9;
	box-shadow:3px 3px 6px 0 #A9A9A9;
      -webkit-perspective: 800px;
         -moz-perspective: 800px;
           -o-perspective: 800px;
              perspective: 800px;
}
.infoAccountfront tr, .infoAccountback tr {
}
.infoAccountfront td {
	font-size: 12px;
	padding: 5px;
	border: 3px solid lightgrey;
	text-align: left;
}
.infoAccountfront td+td {
	background: white;
	padding: 1px 5px;
	width: 570px;
	text-align: left;
}
.infoAccountback td {
	font-size: 12px;
	text-align: left;
}
.infoAccountback tbody {
	border-spacing: 20px;
}
#infoAccountContainer {
     position: relative;
      width: 800px;
      height: 500px;
	margin: 20px 10px 0px 10px;
transform-origin: 100% 240px;
      -webkit-transition: -webkit-transform 1s;
         -moz-transition: -moz-transform 1s;
           -o-transition: -o-transform 1s;
              transition: transform 1s;
      -webkit-transform-style: preserve-3d;
         -moz-transform-style: preserve-3d;
           -o-transform-style: preserve-3d;
              transform-style: preserve-3d;
}
.infoAccount {
	display: block;
      position: absolute;
	  overflow: auto;
	top: 0;
	left: 0;
      width: 800px;
      height: 480px;
      -webkit-backface-visibility: hidden;
         -moz-backface-visibility: hidden;
           -o-backface-visibility: hidden;
              backface-visibility: hidden;
}
.flipped {
      -webkit-transform: rotateX( 180deg );
         -moz-transform: rotateX( 180deg );
           -o-transform: rotateX( 180deg );
              transform: rotateX( 180deg );
}
.infoAccountfront {
	/* for firefox 31 */
	transform: rotateY(0deg);
}
.infoAccountback {
	  font-size: 11px;
      -webkit-transform: rotateX( 180deg );
         -moz-transform: rotateX( 180deg );
           -o-transform: rotateX( 180deg );
              transform: rotateX( 180deg );
}
#buttonModifInfoAccount, #buttonValidInfoAccount, #buttonCancelInfoAccount {
	margin-top: 15px;
}
#buttonValidInfoAccount {
	float: left;
	margin-right: 50px;
	margin-left: 250px;
}
#buttonCancelInfoAccount {
	float: left;
}
.infoAccountback input[type='text'] {
	height: 25px;
}
</style>
<script>
	var coachvhmaccount = "";
	var coachaccount = "";
	var coachoffer = "";
	var coachname = "";
	var coachstatus = "";
	var coachorder = "";
	var coachdate = "";
	var coachrecherche = "";
</script>
<div id="coach">
	<div id="headcoach">
		<div style="float:left;padding:0px" onclick="ajaxCoach()"><img src="/images/refresh.png"></div>
		<div id="titlecoach">
			<h2>Interventions Cloud Coach</h2>
			<div><span id="nbcases"></span> affaire<span id="plurielnbcases"></span> / <span id="nbevents"></span> évènement<span id="plurielnbevents"></span></div>
		</div>
		<div id="showinfocoachaccount">
			<div><img src="/images/infoaccount.png"></div>
		</div>
		<div id="newcasecoach">
			<div><img src="/images/caseplus.png"></div>
		</div>
		<div style="clear:both"></div>
	</div>
	<div id="infoAccount">
		<div id="infoAccountContainer">
			<div id="infoAccountRO" class="infoAccount infoAccountfront">
			</div>
			<div id="infoAccountRW" class="infoAccount infoAccountback">
			</div>
		</div>
	</div>
	<div id="newCase">
		<form id="formCase" action="javascript:ajaxNewCase()" method="POST">
			<table style="font-size: 12px">
				<tr id="newcaseoffer">
					<td>Offre</td>
					<td>
						<div id="buttonOffer">
							<input type="radio" id="caseoffer1" name="caseoffer" value="FCE"><label for="caseoffer1">FCE</label> 
							<input type="radio" id="caseoffer2" name="caseoffer" value="FS"><label for="caseoffer2">FS</label> 
							<input type="radio" id="caseoffer3" name="caseoffer" value="FCA"><label for="caseoffer3">FCA</label> 
						</div>
					</td>
				</tr>
				<tr id="newcaseaccount"><td>Raison sociale</td><td><input type="text" name="accountname" value=""></td></tr>
				<tr><td>Résumé (optionnel)</td><td style="text-align: left"><input type="text" name="details" value="" width="800" maxlength="255"></td></tr>
				<tr>
					<td style="vertical-align:middle">Type</td>
					<td>
						<div id="buttonCaseType">
							<div class="newcctype">
							<input type="radio" id="casetype1" name="casetype" value="avantvente"><label for="casetype1">Avant-Vente</label><br/> 
							<input type="radio" id="casetype2" name="casetype" value="devis" style="width:150px"><label for="casetype2">Devis</label> 
							</div>
							<div class="newcctype">
							<input type="radio" id="casetype3" name="casetype" value="tryer"><label for="casetype3">Tryer</label> 
							</div>
							<div class="newcctype">
							<input type="radio" id="casetype4" name="casetype" value="welcome"><label for="casetype4">Welcome</label><br/>
							<input type="radio" id="casetype5" name="casetype" value="30min"><label for="casetype5">30' gratuites</label>
							</div>
							<div class="newcctype">
							<input type="radio" id="casetype6" name="casetype" value="question"><label for="casetype6">Question</label><br/>
							<input type="radio" id="casetype7" name="casetype" value="prestation"><label for="casetype7">Prestation</label> 
							</div>
							<div class="newcctype">
							<input type="radio" id="casetype8" name="casetype" value="conso"><label for="casetype8">Conso nulle</label><br/>
							<input type="radio" id="casetype9" name="casetype" value="alerte"><label for="casetype9">Alerte</label> 
							</div>
							<div class="newcctype">
							<input type="radio" id="casetype10" name="casetype" value="autre"><label for="casetype10">Autre</label> 
							</div>
							<div style="clear: both"></div>
						</div>
					</td>
				</tr>
				<tr id="casePackFC"">
					<td style="vertical-align:middle">Prestation</td>
					<td>
						<div id="buttonPackFC">
							<div class="newccprestation">
							<input type="radio" id="casepackfc1" name="casepackfc" value="demarrage"><label for="casepackfc1">Démarrage</label><br/>
							<input type="radio" id="casepackfc2" name="casepackfc" value="optimisation"><label for="casepackfc2">Optimisation</label>
							</div>
							<div class="newccprestation">
							<input type="radio" id="casepackfc4" name="casepackfc" value="expert1h"><label for="casepackfc4">Expert 1H</label><br/>
							<input type="radio" id="casepackfc5" name="casepackfc" value="expert2h"><label for="casepackfc5">Expert 2H</label><br/>
							<input type="radio" id="casepackfc6" name="casepackfc" value="expert4h"><label for="casepackfc6">Expert 4H</label>
							<br/>
							<input type="radio" id="casepackfc7" name="casepackfc" value="expertannee"><label for="casepackfc7">Expert Année</label>
							</div>
							<div class="newccprestation">
							<input type="radio" id="casepackfc8" name="casepackfc" value="logbronze"><label for="casepackfc8">Logiciel Bronze</label><br/>
							<input type="radio" id="casepackfc9" name="casepackfc" value="logsilver"><label for="casepackfc9">Logiciel Silver</label><br/>
							<input type="radio" id="casepackfc10" name="casepackfc" value="loggold"><label for="casepackfc10">Logiciel Gold</label><br/>
							<input type="radio" id="casepackfc11" name="casepackfc" value="logplatinum"><label for="casepackfc11">Logiciel Platinum</label>
							</div>
							<div class="newccprestation">
							<input type="radio" id="casepackfc12" name="casepackfc" value="prestadevis"><label for="casepackfc12">Sur devis</label>
							</div>
							<div style="clear: both"></div>
						</div>
						<div style="text-align: left">
							Montant <input name="amountfc" type=text value="" style="width:50px">
						</div>
					</td>
				</tr>
				<tr id="casePackFS">
					<td style="vertical-align:middle">Prestation</td>
					<td>
						<div id="buttonPackFS">
							<input type="radio" id="casepackfs3" name="casepackfs" value="formation1h"><label for="casepackfs3">Expertise 1H</label>
							<input type="radio" id="casepackfs1" name="casepackfs"  value="formation2h"><label for="casepackfs1">Formation 2H</label> 
							<input type="radio" id="casepackfs2" name="casepackfs" value="formation4h"><label for="casepackfs2">Formation 4H</label> 
						</div>
						<div style="text-align: left">
							Montant <input name="amountfs" type=text value="" style="width:50px">
						</div>
					</td>
				</tr>
				<tr id="casePackFCA">
					<td style="vertical-align:middle">Prestation</td>
					<td>
						<div id="buttonPackFCA">
							<input type="radio" id="casepackfca1" name="casepackfca" value="formationVCD"><label for="casepackfca1">Formation vCD</label>
							<input type="radio" id="casepackfca2" name="casepackfca"  value="prestaFCA"><label for="casepackfca2">Autre</label> 
						</div>
						<div style="text-align: left">
							Montant <input name="amountfca" type=text value="" style="width:50px">
						</div>
					</td>
				</tr>
				<tr id="cccoachincharge">
					<td>Coach en charge</td>
					<td>
						<div id="buttonCCCoachEnCharge">
							<input type="radio" id="ccnomcoach1" name="ccnomcoach" value="Myriam"><label for="ccnomcoach1">Myriam</label> 
							<input type="radio" id="ccnomcoach2" name="ccnomcoach" value="Pierre"><label for="ccnomcoach2">Pierre</label> 
							<input type="radio" id="ccnomcoach3" name="ccnomcoach" value="Mathieu"><label for="ccnomcoach3">Mathieu</label>

							<input type="radio" id="ccnomcoach4" name="ccnomcoach" value="Yoann"><label for="ccnomcoach4">Yoann</label>
							<input type="radio" id="ccnomcoach5" name="ccnomcoach" value="Fabien"><label for="ccnomcoach5">Fabien</label>
							<input type="radio" id="ccnomcoach6" name="ccnomcoach" value="Laurent"><label for="ccnomcoach6">Laurent</label>
							<input type="radio" id="ccnomcoach7" name="ccnomcoach" value="TIO2"><label for="ccnomcoach7">TIO2</label>
							<input type="radio" id="ccnomcoach8" name="ccnomcoach" value="Christophe"><label for="ccnomcoach8">Christophe</label>
						</div>
					</td>
				</tr>
			</table>
		</form>
		<button id="buttonCCReset" class="coachformbutton" onclick="resetNewCase()">Reset</button>
		<button id="buttonCCSubmit" class="coachformbutton" onclick="$('#formCase').submit()">Valider</button>
	</div>

	<div id="newEvent">
		<form id="formEvent" action="javascript:ajaxNewEvent()" method="POST">
			<input type="hidden" name="caseid" value="">
			<table style="font-size: 12px">
				<tr id="eventdate"><td>Date</td><td><input type="text" name="eventdate" class="coachdate"></div></td></tr>
				<tr>
					<td>Initiateur</td>
					<td>
						<div id="buttonOrigRole" style="float:left; vertical-align:middle">
							<input type="radio" id="origrole1" name="origrole" value="client"><label for="origrole1">Client</label> 
							<input type="radio" id="origrole2" name="origrole" value="cloudcoach"><label for="origrole2">Cloud Coach</label> 
							<input type="radio" id="origrole3" name="origrole" value="commercial"><label for="origrole3">Commercial</label>
							<input type="radio" id="origrole4" name="origrole" value="interne"><label for="origrole4">Interne</label>
						</div>
						<div id="origname"><input type="text" name="origname" value="" style="width:200px"></div>
					</td>
				</tr>
				<tr>
					<td>Medium</td>
					<td>
						<div id="buttonMedium">
							<input type="radio" id="medium1" name="medium" value="courriel"><label for="medium1">Courriel</label> 
							<input type="radio" id="medium2" name="medium" value="tel"><label for="medium2">Téléphone</label> 
							<input type="radio" id="medium3" name="medium" value="portail"><label for="medium3">ECE / MSCT</label>
							<input type="radio" id="medium4" name="medium" value="ofc"><label for="medium4">Communauté</label>
							<input type="radio" id="medium5" name="medium" value="im"><label for="medium5">IM</label>
							<input type="radio" id="medium6" name="medium" value="autre"><label for="medium6">Autre</label>
						</div>
					</td>
				</tr>
				<tr id="cemsctid">
					<td>MSCT id</td>
					<td>
						<input name="msctid" type=text value="" style="width:130px"><br/>
					</td>
				</tr>
				<tr>
					<td>Type</td>
					<td>
						<div id="buttonEventType">
							<input type="radio" id="eventtype1" name="eventtype" value="echange" disabled><label for="eventtype1">Client <=> Coach</label> 
							<input type="radio" id="eventtype2" name="eventtype" value="absent" disabled><label for="eventtype2">Appel infructueux</label> 
						</div>
					</td>
				</tr>
				<tr><td style="vertical-align:middle">Détails</td><td><textarea name="cedetails" value="" width="500"></textarea></td></tr>
				<tr id="cecoachincharge">
					<td>Coach en charge</td>
					<td>
						<div id="buttonCECoachEnCharge">
							<input type="radio" id="cenomcoach1" name="cenomcoach" value="Myriam"><label for="cenomcoach1">Myriam</label> 
							<input type="radio" id="cenomcoach2" name="cenomcoach" value="Pierre"><label for="cenomcoach2">Pierre</label> 
							<input type="radio" id="cenomcoach3" name="cenomcoach" value="Mathieu"><label for="cenomcoach3">Mathieu</label>
							<input type="radio" id="cenomcoach4" name="cenomcoach" value="Yoann"><label for="cenomcoach4">Yoann</label>
							<input type="radio" id="cenomcoach5" name="cenomcoach" value="Fabien"><label for="cenomcoach5">Fabien</label>
							<input type="radio" id="cenomcoach6" name="cenomcoach" value="Laurent"><label for="cenomcoach6">Laurent</label>
							<input type="radio" id="cenomcoach7" name="cenomcoach" value="TIO2"><label for="cenomcoach7">TIO2</label>
							<input type="radio" id="cenomcoach8" name="cenomcoach" value="Christophe"><label for="cenomcoach8">Christophe</label>
						</div>
					</td>
				</tr>
				<tr>
					<td>Nouvel état dossier</td>
					<td>
						<div id="buttonNewCaseStatus">
							<input type="radio" id="newcasestatus1" name="newcasestatus" value="NOUVEAU" disabled><label for="newcasestatus1">NOUVEAU</label> 
							<input type="radio" id="newcasestatus2" name="newcasestatus" value="EN COURS"><label for="newcasestatus2">EN COURS</label> 
							<input type="radio" id="newcasestatus3" name="newcasestatus" value="EN ATTENTE"><label for="newcasestatus3">EN ATTENTE</label> 
							<input type="radio" id="newcasestatus4" name="newcasestatus" value="SUSPENDU"><label for="newcasestatus4">SUSPENDU</label>
							<input type="radio" id="newcasestatus5" name="newcasestatus" value="REJETE"><label for="newcasestatus5">REJETE</label>
							<input type="radio" id="newcasestatus6" name="newcasestatus" value="CLOS"><label for="newcasestatus6">CLOS</label>
						</div>
					</td>
				</tr>
				<tr id="datesuspended"><td>Date suspension</td><td><input type="text" name="datesuspended" class="coachdate"></div></td></tr>
				<tr id="eventtimepassed"><td>Temps passé (min.)</td><td><input type="text" name="passedtime" value="" style="width:50px"></td></tr>
				<tr><td>Résumé (optionnel)</td><td style="text-align: left"><input type="text" name="casedetails" value="" width="800" maxlength="255"></td></tr>
			</table>
			<input type="hidden" value="newevent" name="action">
		</form>
		<button id="buttonCEReset" class="coachformbutton" onclick="resetNewEvent()">Reset</button>
		<button id="buttonCESubmit" class="coachformbutton" onclick="$('#formEvent').submit()">Valider</button>
	</div>

	<div id="resCase">
	</div>
</div>

<script>
//	var packAmount = { "demarrage":"330", "construction":"330", "optimisation":"440", "performance":"440", "securite":"440", "expert1h":"160", "expert2h":"270", "expert4h":"490", "expertannee":"1500", "prestadevis":"", "logbronze":"330", "logsilver":"880", "loggold":"1300", "logplatinum":"2600", "formation1h":"160", "formation2h":"290", "formation4h":"590" };
	var packAmount = { "demarrage":"220", "optimisation":"160", "expert1h":"120", "expert2h":"220", "expert4h":"400", "expertannee":"1500", "prestadevis":"", "logbronze":"300", "logsilver":"550", "loggold":"1000", "logplatinum":"1500", "formation1h":"160", "formation2h":"290", "formation4h":"590", "formationVCD":"600" };
	var packTime = { "expert1h":"60", "expert2h":"120", "expert4h":"240", "expertannee":"600", "formation1h":"60", "formation2h":"120", "formation4h":"240", "formationVCD":"240" };

	function updateAccountname() {
		var c;
		if ($("input:text[name='accountname']").val() != "") {
			$("input:radio[name='casetype']").prop("disabled",false);
		} else {
			$("input:radio[name='casetype']").prop("disabled",true);
			c = $("input:radio[name='casetype']:checked").val();
			if (c != 'avantvente' && c != 'avantvente' && c != 'avantvente') { $("input:radio[name='casetype']").prop("checked",false); }
			$("input:radio[name='casetype'][value='avantvente']").prop("disabled",false);
			$("input:radio[name='casetype'][value='devis']").prop("disabled",false);
			$("input:radio[name='casetype'][value='autre']").prop("disabled",false);
		}
		$("input:radio[name='casetype']").button("refresh");
	}
	
	function updateCoachOffer() {
		resetNewCase();
	}
	
	function updatePackCC(param) {
//		if (param == "amount") {
			if (coachoffer == "FS" || $("input:radio[name='caseoffer']:checked").val() == "FS") {
				packname = $("input:radio[name='casepackfs']:checked").val();
				$("input[name=amountfs]").val(packAmount[packname]);
			} else {
				if (coachoffer == "FCE" || $("input:radio[name='caseoffer']:checked").val() == "FCE") {
					packname = $("input:radio[name='casepackfc']:checked").val();				
					$("input[name='amountfc']").val(packAmount[packname]);
				} else {
					if (coachoffer == "FCA" || $("input:radio[name='caseoffer']:checked").val() == "FCA") {
						packname = $("input:radio[name='casepackfc']:checked").val();				
						$("input[name='amountfca']").val(packAmount[packname]);
					}
				}
			}
//		} else {
//			$("#casePackFC").css("display","none");
//			$("#casePackFS").css("display","none");
//			if (param != 'reset') {
//				if ((coachoffer == "FS" || $("input:radio[name='caseoffer']:checked").val() == "FS") && $( "input:radio[name='casetype']:checked" ).val() == "prestation") {
//					$("#casePackFS").css("display","table-row");
//				} else if ($( "input:radio[name='casetype']:checked" ).val() == "prestation") {
//					$("#casePackFC").css("display","table-row");
//				}
//			}
//		}
	}

	function updateCaseType() {
		if ($("input:radio[name='casetype']:checked").val() == "prestation") {
	//alert(coachoffer+"#"+$("input:radio[name='caseoffer']").val());
			if (coachoffer == "FS" || $("input:radio[name='caseoffer']:checked").val() == "FS") {
				$("#casePackFS").css("display","table-row");
			}
			if (coachoffer == "FCE" || $("input:radio[name='caseoffer']:checked").val() == "FCE") {
				$("#casePackFC").css("display","table-row");
			}
			if (coachoffer == "FCA" || $("input:radio[name='caseoffer']:checked").val() == "FCA") {
				$("#casePackFCA").css("display","table-row");
			}
		} else {
			$("#casePackFC").css("display","none");
			$("#casePackFS").css("display","none");
			$("#casePackFCA").css("display","none");
		}
	}
	
	function updateOrigRole() {
		var idcase = $("#newEvent").parent().get(0).id;
//		var casetype = $("#"+idcase+">div.cccentre>div.cctype>div.cctypepacknom").val();
		var casetype;

		if ($("input:radio[name='origrole']:checked").val() == "cloudcoach") {
			$("#origname").css("display","none");
			$("input:text[name='origname']").val("");
//	alert(idcase+"#"+casetype+"#"+packTime[casetype]);
			if ($("#"+idcase+">div.cccentre>div.cctype>div.cctypepacknom").length) {
				casetype = $("#"+idcase+">div.cccentre>div.cctype>div.cctypepacknom").attr("packname");
				if (packTime[casetype] != "") {  $("#eventtimepassed").css("display","table-row"); }
				else { $("input:text[name='passedtime']").val(""); $("#eventtimepassed").css("display","none"); }
			} else {
				$("input:text[name='passedtime']").val(""); $("#eventtimepassed").css("display","none");
			}
//			$("#eventtimepassed").css("display","table-row");
		} else {
			$("#origname").css("display","table-row");
			$("#eventtimepassed").css("display","none");
			$("input:text[name='timepassed']").val("");
			if ($("input:radio[name='origrole']:checked").val() == "client") {
				$("input:text[name='origname']").autocomplete({source:dataOrig.listeclient});
				$("input:text[name='origname']").val(dataOrig.defaultclient);
			} else {
				if ($("input:radio[name='origrole']:checked").val() == "commercial") {
					$("input:text[name='origname']").autocomplete({source:dataOrig.listecommercial});
					$("input:text[name='origname']").val(dataOrig.defaultcommercial);
				} else {
					if ($("input:radio[name='origrole']:checked").val() == "interne") {
						$("input:text[name='origname']").autocomplete({source:dataOrig.listeinterne});
						$("input:text[name='origname']").val(dataOrig.defaultinterne);
					}
				}
			}
		}
		updateEventType();
	}
	
	function updateEventType() {
		$("input:radio[name='eventtype']").prop("disabled",false);
		if ($("input:radio[name='origrole']:checked").val() == "client") {
			$("input:radio[name='eventtype'][value='absent']").prop("disabled",true);
			$("input:radio[name='eventtype'][value='absent']").prop("checked",false);
		} else {
			if ($("input:radio[name='origrole']:checked").val() == "cloudcoach") {
				if ($("input:radio[name='medium']:checked").val() != "tel") {
					$("input:radio[name='eventtype'][value='absent']").prop("disabled",true);
					$("input:radio[name='eventtype'][value='absent']").prop("checked",false);
				} else {
//alert($("input:radio[name='eventtype']:checked").val());
					if ($("input:radio[name='eventtype']:checked").val() == "absent" && $("textarea[name='cedetails']").val() == "") {
						$("textarea[name='cedetails']").val("Appel infructueux");
					}
				}
			} else {
				$("input:radio[name='eventtype']").prop("disabled",true);
				$("input:radio[name='eventtype']").prop("checked",false);
			}
		}
		//$("input:radio[name='eventtype']").button("refresh");
	}
	
	function updateMedium() {
		updateEventType();
	}

//	alert(coachoffer);
	if (coachoffer == "" || coachoffer == "TOUTES") {
		$("#buttonOffer").buttonset();
		$("#buttonOffer").change( function() { resetNewCase(); } )
	} else {
		$("#newcaseoffer").css("display","none");
	}
//	if (coachaccount != "") {
//		$("#newcaseaccount").css("display","none");
//	}
//	$("#buttonModifInfoAccount").button();
//	$("#buttonModifInfoAccount").click( function () { alert('toggle'); $(".infoAccount").toggleClass('flipped'); } );
//	$("#infoAccount").click( function () { $("#infoAccountContainer").toggleClass('flipped'); } );
	$("#buttonCaseType").buttonset();
//	$("#buttonCaseType").change( function() { updatePackCC(); } )
	$("#buttonPackFC").buttonset();
	$("#buttonPackFC").change( function() { updatePackCC('amount'); } )
	$("#buttonPackFS").buttonset();
	$("#buttonPackFS").change( function() { updatePackCC('amount'); } )
	$("#buttonPackFCA").buttonset();
	$("#buttonPackFCA").change( function() { updatePackCC('amount'); } )

	$("#buttonOrigRole").buttonset();
	$("#buttonOrigRole").change( function() { updateOrigRole(); } )
	$("#buttonCCCoachEnCharge").buttonset();
	$("#buttonCECoachEnCharge").buttonset();
	$("#buttonMedium").buttonset();
	$("#buttonMedium").change( function() { if ($("input:radio[name='medium']:checked").val() == "portail") { $("#cemsctid").css("display","table-row"); } else { $("#cemsctid").css("display","none"); } } )
//	$("#buttonEventType").buttonset();
	$("#buttonNewCaseStatus").buttonset();
	$("#buttonNewCaseStatus").change( function() { if ($("input:radio[name='newcasestatus']:checked").val() == "SUSPENDU") { $("#datesuspended").css("display","table-row"); } else { $("#datesuspended").css("display","none"); } } )
	
	$.datepicker.setDefaults( $.datepicker.regional[ "fr" ] );
	$( ".coachdate" ).datepicker({ dateFormat: "yy-mm-dd" });
//	$("input:text[name='datesuspended']").datepicker();
	$( "input:text[name='datesuspended']" ).datepicker("option", "minDate", "+1d");
	$( "input:text[name='datesuspended']" ).datepicker("option", "maxDate", "+1m");
//	$( "input:text[name='eventdate']" ).datepicker();
	$( "input:text[name='eventdate']" ).datepicker("option", "maxDate", "+0d");
//	$( "input:text[name='eventdate']" ).datepicker({ maxDate: new Date("+0d") });
	$("#buttonCCReset").button();
	$("#buttonCCSubmit").button();
	$("#buttonCEReset").button();
	$("#buttonCESubmit").button();
	
//	$( "input:text[name='origname']" ).autocomplete({
//  source: [ "c++", "java", "php", "coldfusion", "javascript", "asp", "ruby" ]
//});
	
	//	$( "#casestatus1" ).button();
	//ajaxCoach();
	//ajaxNewCase();
	//$( "#datepicker" ).datepicker();
	$("input:text[name='accountname']").change( function() {
												updateAccountname();
								} );

	$("input:radio[name='caseoffer']").change( function() {
												updateCoachOffer();
								} );

	$("input:radio[name='casetype']").change( function() {
	//alert(coachoffer+"#"+$("input:radio[name='caseoffer']:checked").val());
												updateCaseType();
								} );

	$("input:radio[name='eventtype']").change( function() {
												updateEventType();
								} );

	$("input:radio[name='medium']").change( function() {
												updateMedium();
								} );

	$("input:radio[name='casepackfc']").change( function() {
												updatePackCC();
								} );
	$("input:radio[name='casepackfs']").change( function() {
												updatePackCC();
								} );
	$("input:radio[name='casepackfca']").change( function() {
												updatePackCC();
								} );

	$("input:text[name='msctid']").change( function() {
												if ($("textarea[name='cedetails']").val() == "") { $("textarea[name='cedetails']").val("Dépôt de la demande "+$("input:text[name='msctid']").val()); }
								} );

	$("#newcasecoach").click( function() {
								if ($("#newCase").css("display") == "none") { resetNewCase(); }
								$("#newCase").toggle("blind",{"direction":"up"});
								} );
//	$("#showinfocoachaccount").click( function() {
//								$("#infoAccount").toggle("blind",{"direction":"up"});
//								} );
</script>
